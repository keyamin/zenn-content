---
title: "PulumiでAWS×Goのチュートリアルやった"
emoji: "🐈"
type: "tech"
topics: []
published: false
---

# Pulumi とは

Terraform などに代表される IaC(Infrastructure as Code)ツールのひとつ。
https://www.pulumi.com/

> Pulumi is a modern infrastructure as code platform that allows you to use familiar programming languages and tools to build, deploy, and manage cloud infrastructure.
> (訳:Pulumi は、使い慣れたプログラミング言語やツールを使って、クラウド基盤の構築、デプロイ、管理を可能にする、最新の Infrastructure as Code プラットフォームです。)

現在 TypeScript,JavaScript,Python,Go,C#に対応しているようで、例えば Terraform だと HCL(HashiCorp Configuration Language)という独自の言語で記述する必要がありましたが、Pulumi では上記の好きな言語で記述できるそうです！

自分は 1 ヶ月半くらい前にはじめて IaC,Terraform に触り、マネジメントコンソールで作成した中規模くらいの AWS リソースを複製する作業を行いました。正直 HCL の学習コストはそこまで高くなかったんですが、入力補完が少し使いづらかったりしたので、今まで通りの IDE の補完機能使えるなら便利そう！ということで試してみました。Pulumi は Terraform の Provider をラップしており、内部では Terraform が動いている、という情報もちらほら見かけるのですが、ソースが~~探してない~~見つけられなかったのでよくわかりません!!!!

# 準備しておくもの

- AWS アカウント
- `s3:CreateBucket`権限を付与した Pulumi 用 IAM ユーザー(とりあえずざっくり触るだけなら普段使ってる IAM ユーザーを使いまわしちゃっていいと思います)

`aws configure`コマンドでクレデンシャルを登録しておくか、以下のように環境変数にアクセスキーを登録しておきましょう。

```bash
$ export AWS_ACCESS_KEY_ID=<YOUR_ACCESS_KEY_ID>
$ export AWS_SECRET_ACCESS_KEY=<YOUR_SECRET_ACCESS_KEY>
```

# インストール

https://www.pulumi.com/docs/get-started/aws/begin/

asdf にプラグインがあったので、自分は asdf でインストールしました。

- プラグイン検索

```bash
$ asdf plugin list-all | grep pulumi
pulumi                        https://github.com/canha/asdf-pulumi.git
```

- プラグインの追加

```bash
$ asdf plugin add pulumi
```

- 最新版をインストール

```bash
$ asdf install pulumi latest
```

- global でのバージョン設定

```bash
$ asdf global pulumi latest
```

- バージョン確認

```bash
$ pulumi version
v3.21.1
```

使用する言語についても、別途インストールしておく必要があります！
